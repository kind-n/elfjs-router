/**
 * 
 * https://www.elfjs.org
 * 
 * @copyright 2018 Wu Hu. All Rights Reserved.
 * 
 * @version 2.0.0
 * @license MIT
 * 
 */
"use strict";!function(s){function u(t){history.pushState&&location.pathname!==t&&history.pushState(null,null,t)}function e(t){u(t);for(var e=c.length,n=0;n<e;n++){var r=c[n],o=t.match(r.reg);if(o){for(var i={},p=r.group.length,a=0;a<p;a++)i[r.group[a]]=decodeURIComponent(o[a+1]);return s.Promise.resolve(r.component(i)).then(function(t){h={type:t,props:i}})}}return s.Promise.reject(new Error("No route matching path "+JSON.stringify(t)))}var c=[],h=null,t=s.Component("router-link",{render:function(){return s.createElement("a",s.assign({ref:"link"},this.props),this.props.children)},onInitial:function(){s.attachEvent(this.refs.link,"click",this)},onDispose:function(){s.detachEvent(this.refs.link,"click",this)},handleEvent:function(t){u(this.props.href),e(this.props.href),t.stopPropagation(),t.preventDefault()}}),n=s.Component("router-view",{constructor:function(){this.handleEvent()},render:function(){return h&&s.createElement(h.type,h.props,h.children)},onInitial:function(){s.attachEvent(window,"popstate",this)},onDispose:function(){s.detachEvent(window,"popstate",this)},handleEvent:function(){e(location.pathname)}});s.router={navigate:e,register:function(){Array.prototype.push.apply(c,function t(e){for(var n=[],r=e.length,o=0;o<r;o++){var i=e[o];Array.isArray(i)?i.length&&n.push.apply(n,t(i)):null!=i&&n.push(i)}return n}(Array.prototype.slice.apply(arguments)).map(function(t){for(var e=t.path.split("/"),n=e.length,r="",o=[],i=!0,p=0;p<n;p++){var a=e[p];""!==a&&"."!==a&&(i&&(r+="\\/"),":"===a.charAt(0)?(o.push(a.slice(1)),r+="([^\\/]+)"):"**"===a?(i=!1,r+=".*"):r+=a.replace(".","\\.").replace("*","[^\\/]*"))}return{group:o,component:t.component,reg:new RegExp("^"+r+"$","i")}}))},RouterLink:t,RouterView:n},s.depend(t,n)}("undefined"!=typeof exports?module.exports=require("elfjs"):this.Elf);